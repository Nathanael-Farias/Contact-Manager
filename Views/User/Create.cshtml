@model AuthSystem.Models.UserModel

<h2>Create User</h2>

<form id="createUserForm" method="post" onsubmit="return validateForm()">
    <div class="form-group">
        <label for="Nome">Name</label>
        <input type="text" class="form-control" id="Nome" name="Nome" value="Enter your name here" onfocus="if(this.value=='Enter your name here') this.value='';" onblur="if(this.value=='') this.value='Enter your name here';" required />
    </div>
    <div class="form-group">
        <label for="Email">Email</label>
        <input type="email" class="form-control" id="Email" name="Email" value="Enter your email here" onfocus="if(this.value=='Enter your email here') this.value='';" onblur="if(this.value=='') this.value='Enter your email here';" required />
    </div>
    <div class="form-group">
        <label for="Login">Login</label>
        <input type="text" class="form-control" id="Login" name="Login" value="Enter your login here" onfocus="if(this.value=='Enter your login here') this.value='';" onblur="if(this.value=='') this.value='Enter your login here';" required />
    </div>
    <div class="form-group">
        <label for="Password">Password</label>
        <input type="password" class="form-control" id="Password" name="Password" value="Enter your password here" onfocus="if(this.value=='Enter your password here') this.value='';" onblur="if(this.value=='') this.value='Enter your password here';" required />
        <input type="checkbox" id="showPassword" onclick="togglePasswordVisibility()"> Show Password
        <div id="passwordValidation" class="password-validation"></div>
    </div>
    <br>
    <div class="form-group">
        <label for="Profile">Profile</label>
        <select class="form-control" id="Profile" name="Profile" required>
            <option value="1">Admin</option>
            <option value="2">User</option>
        </select>
    </div>
    <br>
    <button type="submit" class="btn btn-primary">Create</button>
</form>

<script>
function togglePasswordVisibility() {
    var passwordField = document.getElementById("Password");
    var checkbox = document.getElementById("showPassword");

    if (checkbox.checked) {
        passwordField.type = "text"; 
    } else {
        passwordField.type = "password"; 
    }
}

function validateForm() {
    var password = document.getElementById('Password').value;
    var validationMessage = document.getElementById('passwordValidation');

    var regex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;

    if (!regex.test(password)) {
        validationMessage.textContent = "Password must be at least 8 characters long and include letters and numbers.";
        validationMessage.style.color = "red";
        return false; 
    }

    
    var requiredFields = document.querySelectorAll('input[required], select[required]');
    for (var i = 0; i < requiredFields.length; i++) {
        var fieldValue = requiredFields[i].value.trim();
        if (fieldValue === '' || fieldValue === requiredFields[i].defaultValue) {
            alert('Please fill all required fields.');
            return false; // 
        }
    }

    return true; 
}
</script>
